<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Glaze Rush ‚Äî DerpyDonut</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="donut-logo-2.png">
</head>
<body>
  <div class="app">

    <!-- Header -->
    <header>
      <a href="." class="logo">
        <img src="donut-logo-2.png" alt="DerpyDonut">
        <span>Glaze Rush</span>
      </a>
      <nav>
        <a href="how-to-play.html">How to Play</a>
        <a href="https://derpydonut.com">Shikaku</a>
        <button id="auth-btn">Log In</button>
      </nav>
    </header>

    <!-- Login Screen -->
    <div id="login-screen" class="screen">
      <img src="donut-logo-2.png" alt="DerpyDonut" class="login-logo">
      <h2>Welcome to Glaze Rush!</h2>
      <p>Rotate pipes to deliver sprinkles to all donuts.</p>
      <div class="login-form">
        <input type="text" id="login-name" placeholder="First name" list="known-players" autocomplete="off">
        <input type="password" id="login-password" placeholder="Password">
        <div class="hint">Hint: it's a baked good</div>
        <div class="btn-row" style="justify-content:center">
          <button class="btn primary" id="login-btn">Log In</button>
          <button class="btn" id="guest-btn">Play as Guest</button>
        </div>
      </div>
      <datalist id="known-players">
        <option value="Dad">
        <option value="Mom">
        <option value="Stephen">
        <option value="Lydia">
        <option value="Emmy">
        <option value="Hazel">
      </datalist>
    </div>

    <!-- Home Screen -->
    <div id="home-screen" class="screen">
      <img src="donut-logo-2.png" alt="DerpyDonut" class="home-logo">
      <h1>Play Glaze Rush</h1>
      <p class="lead">Rotate pipes to deliver chocolate sprinkles to all donuts!</p>

      <div class="selectors">
        <div>
          <label for="difficulty-select">Difficulty</label>
          <select id="difficulty-select">
            <option value="Glazed">Glazed (Easy)</option>
            <option value="Frosted">Frosted (Medium)</option>
            <option value="Sprinkled">Sprinkled (Hard)</option>
            <option value="Double Chocolate">Double Chocolate (Expert)</option>
          </select>
        </div>
        <div>
          <label for="size-select">Grid Size</label>
          <select id="size-select"></select>
        </div>
      </div>

      <div class="home-actions">
        <button class="btn primary" id="select-level-btn">Select Level</button>
        <button class="btn" id="random-level-btn">Random Level</button>
        <button class="btn" id="continue-btn" style="display:none">Continue</button>
      </div>

      <div class="leaderboards">
        <div class="leaderboard-card">
          <h3>üç© Most Donuts</h3>
          <ol id="home-donuts-list"></ol>
        </div>
        <div class="leaderboard-card">
          <h3>üç© Sprinkle Donuts</h3>
          <ol id="home-sprinkles-list"></ol>
        </div>
      </div>
    </div>

    <!-- Levels Screen -->
    <div id="levels-screen" class="screen">
      <h2 id="levels-title">Select Level</h2>
      <p class="subtitle" id="levels-subtitle"></p>
      <div class="level-grid" id="level-grid"></div>
      <div style="text-align:center">
        <button class="btn" id="levels-back-btn">Back</button>
      </div>
    </div>

    <!-- Puzzle Screen -->
    <div id="puzzle-screen" class="screen">
      <div class="puzzle-header">
        <span class="puzzle-info" id="puzzle-info"></span>
        <span class="timer" id="timer">00:00.00</span>
        <span class="moves" id="moves">0 moves</span>
      </div>

      <div class="canvas-container">
        <canvas id="game-canvas"></canvas>
      </div>

      <div class="puzzle-controls">
        <button class="btn" id="undo-btn">Undo</button>
        <button class="btn" id="redo-btn">Redo</button>
        <button class="btn" id="restart-btn">Restart</button>
        <button class="btn" id="puzzle-back-btn">Back</button>
      </div>

      <div class="puzzle-leaderboard" id="puzzle-leaderboard">
        <h3>Leaderboard</h3>
        <table>
          <thead><tr><th>#</th><th>Player</th><th>Time</th></tr></thead>
          <tbody id="puzzle-lb-body"></tbody>
        </table>
      </div>
    </div>

  </div>

  <!-- Solved Modal -->
  <div class="modal-overlay" id="solved-modal">
    <div class="modal">
      <h2>Puzzle Solved!</h2>
      <div class="solved-time" id="solved-time"></div>
      <div class="solved-best" id="solved-best"></div>
      <div class="solved-moves" id="solved-moves"></div>
      <div id="solved-login-prompt" style="display:none">
        <p style="color:var(--ink-light);font-size:14px;margin-bottom:12px">Log in to save your score!</p>
      </div>
      <div class="solved-actions">
        <button class="btn primary" id="next-level-btn">Next Level</button>
        <button class="btn" id="replay-btn">Replay</button>
        <button class="btn" id="solved-back-btn">Back</button>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast-container"></div>

  <script type="module" src="src/main.js"></script>
</body>
</html>
